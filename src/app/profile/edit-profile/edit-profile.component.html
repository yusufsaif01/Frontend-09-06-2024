<app-header></app-header>
<div class="wrapper">
  <!-- Left section -->
  <div class="left-section">
    <!-- profile  -->
    <form [formGroup]="aboutForm">
      <div class="block-design">
        <div class="profile-section">
          <img src="{{ profile?.avatar_url }}" alt="profile-icon" />
          <h3 *ngIf="member_type === 'player'">
            {{ profile?.first_name }} {{ profile?.last_name }}
          </h3>
          <h3 *ngIf="member_type === 'club' || member_type === 'academy'">
            {{ profile?.name | titlecase }}
          </h3>
          <p
            [ngClass]="{
              green: profile_status === 'verified',
              red: profile_status === 'non-verified'
            }"
          >
            <i-feather
              [name]="
                profile_status === 'verified' ? 'check-circle' : 'alert-circle'
              "
              class="icon-size"
            ></i-feather>

            {{ profile_status === 'verified' ? 'Verified' : 'Not Verified' }}
          </p>
          <div class="add-btn">
            <label for="add-image" class="btn upload">
              <span>
                <i-feather name="Image" class="icon-size"></i-feather>
              </span>
              <input
                type="file"
                name="add-image"
                id="add-image"
                formControlName="avatar"
                (change)="uploadAvatar($event.target.files)"
              />
            </label>
            <button class="btn delete" (click)="removeAvatar()">
              <span>
                <i-feather name="trash-2" class="icon-size"></i-feather>
              </span>
            </button>
          </div>
        </div>
        <mat-error
          *ngIf="
            aboutForm.controls.avatar.errors && aboutForm.controls.avatar.dirty
          "
        >
          <span
            class="align-center"
            *ngIf="aboutForm.controls.avatar.errors.requiredFileAvatar"
            translate
            >Image must be of type JPEG / JPG / PNG</span
          >
        </mat-error>
      </div>
      <!--About -->
      <div class="block">
        <div class="block-heading border-bottom">
          <h4>About</h4>
          <p>
            {{ aboutForm.controls.bio.value | truncate: 150 }}
          </p>
        </div>

        <div class="block-middle border-bottom">
          <label> BIO </label>
          <textarea
            formControlName="bio"
            matInput
            rows="5"
            placeholder="Write Content"
          ></textarea>
          <mat-error
            *ngIf="
              aboutForm.controls.bio.invalid && aboutForm.controls.bio.touched
            "
          >
            <span *ngIf="aboutForm.controls.bio.errors.maxlength" translate
              >Bio cannot be greater than 1000 characters</span
            >
          </mat-error>
        </div>
        <div class="block-bottom">
          <button (click)="about()" [disabled]="!aboutForm.valid">Save</button>
        </div>
      </div>
    </form>

    <div class="block">
      <div class="block-heading border-bottom">
        <h4>Social profiles</h4>
        <p>Add elsewhere links to your profile.</p>
      </div>
      <form (ngSubmit)="socialProfile()" [formGroup]="socialProfileForm">
        <div class="block-middle border-bottom">
          <!-- instagram -->
          <div class="social-link">
            <i-feather name="instagram" class="icon instagram"></i-feather>
            <input
              formControlName="instagram"
              type="text"
              matInput
              placeholder="Add Instagram Link"
            />
          </div>
          <!-- facebook -->
          <div class="social-link">
            <i-feather name="facebook" class="icon facebook"></i-feather>
            <input
              formControlName="facebook"
              type="text"
              matInput
              placeholder="Add Facebook Link"
            />
          </div>
          <!-- twitter -->
          <div class="social-link">
            <i-feather name="twitter" class="icon twitter"></i-feather>
            <input
              formControlName="twitter"
              type="text"
              matInput
              placeholder="Add Twitter Link"
            />
          </div>
          <!-- Youtube -->
          <div class="social-link">
            <i-feather name="Youtube" class="icon youtube"></i-feather>
            <input
              formControlName="youtube"
              type="text"
              matInput
              placeholder="Add Youtube Link"
            />
          </div>
        </div>
        <div class="block-bottom">
          <button>Update Social Profiles</button>
        </div>
      </form>
    </div>
  </div>
  <!-- Right seciton -->
  <div class="right-section">
    <form (ngSubmit)="editProfile()" [formGroup]="editProfileForm">
      <!-- players -->
      <div
        class="player-details"
        *ngIf="member_type === 'player'; else club_acadBlock"
      >
        <!-- player type -->
        <div class="block">
          <div class="block-header border-bottom">
            <!-- <ng-container> {{ editProfileForm.controls.player_type.value }}</ng-container> -->
            <!-- <ng-container> {{ editProfileForm.value | json }}</ng-container> -->
            <h4>Player Type</h4>
            <!-- <p>Lorem ipsum dolor sit amet, consecteturs.</p> -->
          </div>
          <div class="block-middle">
            <div class="radio w-50">
              <label
                ><input
                  type="radio"
                  value="grassroot"
                  formControlName="player_type"
                />
                Grassroot
              </label>
              <label
                ><input
                  type="radio"
                  value="amateur"
                  formControlName="player_type"
                />
                Amateur
              </label>
              <label
                ><input
                  type="radio"
                  value="professional"
                  formControlName="player_type"
                />
                Professional</label
              >
            </div>
            <mat-error
              *ngIf="
                editProfileForm.controls.player_type.invalid &&
                editProfileForm.controls.player_type.touched
              "
            >
              <span
                *ngIf="editProfileForm.controls.player_type.errors.required"
                translate
                >Player Type is required</span
              >
            </mat-error>
          </div>
        </div>

        <!-- {{ editProfileForm.valid }} -->
        <!-- personal detials -->
        <div class="block">
          <div class="block-header border-bottom">
            <h4>Personal Details</h4>
            <!-- <p>Lorem ipsum dolor sit amet, consecteturs.</p> -->
          </div>
          <div class="block-middle">
            <!-- first name -->
            <div class="from-block">
              <label>First Name <span>*</span></label>
              <input
                class="error-border"
                formControlName="first_name"
                type="text"
                placeholder="First Name"
                matInput
              />
              <mat-error
                *ngIf="
                  editProfileForm.controls.first_name.invalid &&
                  editProfileForm.controls.first_name.touched
                "
              >
                <span
                  *ngIf="editProfileForm.controls.first_name.errors.required"
                  translate
                  >First Name is required</span
                >
                <span
                  *ngIf="
                    !editProfileForm.controls.first_name.errors.required &&
                    editProfileForm.controls.first_name.errors.pattern
                  "
                  translate
                  >First Name is invalid</span
                >
                <span
                  *ngIf="
                    !editProfileForm.controls.first_name.errors.required &&
                    !editProfileForm.controls.first_name.errors.pattern &&
                    editProfileForm.controls.first_name.errors.maxlength
                  "
                  translate
                  >First Name cannot be greater than 25 characters</span
                >
              </mat-error>
            </div>

            <!-- last name -->
            <div class="from-block">
              <label>Last Name <span>*</span></label>
              <input
                formControlName="last_name"
                placeholder="Last Name"
                type="text"
                matInput
              />
              <mat-error
                *ngIf="
                  editProfileForm.controls.last_name.invalid &&
                  editProfileForm.controls.last_name.touched
                "
              >
                <span
                  *ngIf="editProfileForm.controls.last_name.errors.required"
                  translate
                  >Last Name is required</span
                >
                <span
                  *ngIf="
                    !editProfileForm.controls.last_name.errors.required &&
                    editProfileForm.controls.last_name.errors.pattern
                  "
                  translate
                  >Last Name is invalid</span
                >
              </mat-error>
            </div>

            <!-- DOB -->
            <div class="from-block">
              <label>Date of Birth <span>*</span></label>
              <div class="datepicker">
                <input
                  formControlName="dob"
                  placeholder="Date of Birth"
                  matInput
                  [matDatepicker]="myDatepicker"
                  [max]="tomorrow"
                  readonly
                />
                <mat-datepicker-toggle
                  [for]="myDatepicker"
                ></mat-datepicker-toggle>
                <mat-datepicker #myDatepicker></mat-datepicker>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.dob.invalid &&
                    editProfileForm.controls.dob.touched
                  "
                >
                  <span
                    *ngIf="editProfileForm.controls.dob.errors.required"
                    translate
                    >Date of Birth is required</span
                  >
                </mat-error>
              </div>
            </div>

            <!-- height -->
            <div class="from-block">
              <label
                >Height (ft / inches)
                <span
                  *ngIf="
                    player_type === 'amateur' || player_type === 'professional'
                  "
                  >*</span
                ></label
              >
              <div class="double-input">
                <div class="height-input">
                  <input
                    formControlName="height_feet"
                    placeholder="Feet"
                    type="text"
                    matInput
                    autocomplete="off"
                    [value]="editProfileForm.controls.height_feet.value | trim"
                  />
                  <mat-error
                    *ngIf="
                      editProfileForm.controls.height_feet.invalid &&
                      editProfileForm.controls.height_feet.touched
                    "
                  >
                    <span
                      class="height-required"
                      *ngIf="
                        editProfileForm.controls.height_feet.errors.required;
                        else patternBlock
                      "
                      translate
                      >Height in Feet is required</span
                    >
                    <ng-template #patternBlock>
                      <span
                        class="error-text format-invalid"
                        *ngIf="
                          editProfileForm.controls.height_feet.errors.pattern;
                          else maxBlock
                        "
                      >
                        Height in Feet format is invalid
                      </span>
                    </ng-template>
                    <ng-template #maxBlock>
                      <span
                        class="error-text min-max-height"
                        *ngIf="
                          editProfileForm.controls.height_feet.errors.max ||
                          editProfileForm.controls.height_feet.errors.min
                        "
                      >
                        Height in Feet must be between 1 and 10
                      </span>
                    </ng-template>
                  </mat-error>
                </div>
                <div class="height-input">
                  <input
                    formControlName="height_inches"
                    placeholder="Inches"
                    type="text"
                    matInput
                    autocomplete="off"
                    [value]="
                      editProfileForm.controls.height_inches.value | trim
                    "
                  />
                  <mat-error
                    *ngIf="
                      editProfileForm.controls.height_inches.invalid &&
                      editProfileForm.controls.height_inches.touched
                    "
                  >
                    <span
                      class="height-required"
                      *ngIf="
                        editProfileForm.controls.height_inches.errors.required;
                        else patternBlock
                      "
                      translate
                      >Height in Inches is required</span
                    >
                    <ng-template #patternBlock>
                      <span
                        class="error-text format-invalid"
                        *ngIf="
                          editProfileForm.controls.height_inches.errors.pattern;
                          else maxBlock
                        "
                      >
                        Height in Inches format is invalid
                      </span>
                    </ng-template>
                    <ng-template #maxBlock>
                      <span
                        class="error-text min-max-height"
                        *ngIf="
                          editProfileForm.controls.height_inches.errors.max ||
                          editProfileForm.controls.height_inches.errors.min
                        "
                      >
                        Height in Inches must be between 0 and 12
                      </span>
                    </ng-template>
                  </mat-error>
                </div>
              </div>
            </div>

            <!-- weight -->
            <div class="from-block">
              <label>Weight (kg)</label>
              <input
                formControlName="weight"
                type="text"
                placeholder="Weight"
                matInput
                autocomplete="off"
                [value]="editProfileForm.controls.weight.value | trim"
              />
              <mat-error
                *ngIf="
                  editProfileForm.controls.weight.invalid &&
                  editProfileForm.controls.weight.touched
                "
              >
                <span
                  class="error-text"
                  *ngIf="
                    editProfileForm.controls.weight.errors.pattern;
                    else minBlock
                  "
                >
                  Weight format is invalid
                </span>
                <ng-template #minBlock>
                  <span
                    class="error-text"
                    *ngIf="editProfileForm.controls.weight.errors.min"
                  >
                    Weight must be greater than 0
                  </span>
                </ng-template>
              </mat-error>
            </div>

            <!-- nationality -->
            <div class="from-block">
              <label>Nationality <span>*</span></label>
              <select
                formControlName="country"
                matNativeControl
                required
                (change)="onSelectCountry($event)"
              >
                <option value="">Select Nationality</option>
                <ng-container *ngFor="let country of countryArray">
                  <option value="{{ country.country_id }}">{{
                    country.country
                  }}</option>
                </ng-container>
              </select>
              <mat-error
                *ngIf="
                  editProfileForm.controls.country.invalid &&
                  editProfileForm.controls.country.touched
                "
              >
                <span
                  *ngIf="editProfileForm.controls.country.errors.required"
                  translate
                  >Nationality is required</span
                >
              </mat-error>
            </div>

            <!-- state -->
            <div class="from-block">
              <label>State <span>*</span></label>
              <select
                formControlName="state"
                matNativeControl
                required
                (change)="onSelectState($event)"
              >
                <option value="">Select State</option>
                <ng-container *ngFor="let state of stateArray">
                  <option value="{{ state.id }}">{{ state.name }}</option>
                </ng-container>
              </select>

              <mat-error
                *ngIf="
                  editProfileForm.controls.state.invalid &&
                  editProfileForm.controls.state.touched
                "
              >
                <span
                  *ngIf="editProfileForm.controls.state.errors.required"
                  translate
                  >State is required</span
                >
              </mat-error>
            </div>

            <!-- city -->
            <div class="from-block">
              <label>Current City <span>*</span></label>
              <select formControlName="city" matNativeControl required>
                <option value="">Select City</option>
                <ng-container *ngFor="let city of cityArray">
                  <option value="{{ city.id }}">{{ city.name }}</option>
                </ng-container>
              </select>

              <mat-error
                *ngIf="
                  editProfileForm.controls.city.invalid &&
                  editProfileForm.controls.city.touched
                "
              >
                <span
                  *ngIf="editProfileForm.controls.city.errors.required"
                  translate
                  >Current City is required</span
                >
              </mat-error>
            </div>

            <!-- email -->
            <div class="from-block">
              <label>Email <span>*</span></label>
              <input
                disabled
                [value]="user_email"
                placeholder="Email"
                type="text"
                matInput
                value="{{ profile.email }}"
              />
            </div>

            <!-- Phone -->
            <div class="from-block">
              <label *ngIf="member_type === 'player'">Mobile Number</label>
              <label *ngIf="member_type !== 'player'">Phone Number</label>
              <div class="contact-no">
                <div class="countrycode">
                  <input type="text" value="+91" readonly tabindex="-1" />
                </div>
                <div class="phonenumber">
                  <input
                    formControlName="phone"
                    placeholder="Phone Number"
                    type="text"
                    matInput
                  />
                </div>
              </div>
              <mat-error
                *ngIf="
                  editProfileForm.controls.phone.invalid &&
                  editProfileForm.controls.phone.touched
                "
              >
                <span
                  *ngIf="editProfileForm.controls.phone.errors.required"
                  translate
                  >Phone Number is required</span
                >
                <ng-template #lengthBlock>
                  <span
                    translate
                    class="error-text"
                    *ngIf="editProfileForm.controls.phone.errors.minlength"
                  >
                    Please provide number upto
                    {{
                      editProfileForm.controls.phone.errors.minlength
                        .requiredLength
                    }}
                    digits
                  </span>
                  <span
                    translate
                    class="error-text"
                    *ngIf="editProfileForm.controls.phone.errors.maxlength"
                  >
                    Please provide number upto
                    {{
                      editProfileForm.controls.phone.errors.maxlength
                        .requiredLength
                    }}
                    digits
                  </span>
                </ng-template>
                <span
                  class="error-text"
                  *ngIf="
                    editProfileForm.controls.phone.errors.pattern;
                    else lengthBlock
                  "
                  translate
                >
                  Phone Number format is invalid
                </span>
              </mat-error>
            </div>

            <!-- current School -->
            <div class="from-block">
              <label>Current School Name</label>
              <input
                formControlName="school"
                placeholder="Current School Name"
                type="text"
                matInput
              />
            </div>

            <ng-container
              *ngIf="
                player_type === 'amateur' || player_type === 'professional'
              "
            >
              <!-- University School -->
              <div class="from-block">
                <label>Current University Name</label>
                <input
                  formControlName="university"
                  placeholder="Current University Name"
                  type="text"
                  matinput
                />
              </div>

              <!-- college School -->
              <div class="from-block">
                <label>Current College Name</label>
                <input
                  formControlName="college"
                  placeholder="Current College Name"
                  type="text"
                  matinput
                />
              </div>
            </ng-container>
            <div class="from-block"></div>

            <!-- Aadhaar Image Type -->
            <div class="from-block">
              <label
                [matTooltip]="
                  profile_status === 'verified'
                    ? 'Not allowed to update aadhaar details'
                    : ''
                "
                >Aadhaar Image Type <span>*</span></label
              >
              <div class="radio">
                <label
                  ><input
                    type="radio"
                    formControlName="aadhar_media_type"
                    value="image"
                  />
                  <span>Image Format</span>
                </label>
                <label
                  ><input
                    type="radio"
                    formControlName="aadhar_media_type"
                    value="pdf"
                  />
                  <span>PDF Format</span>
                </label>
              </div>
            </div>

            <!-- Upload   -->
            <ng-container
              *ngIf="editProfileForm.controls.aadhar_media_type.value == 'pdf'"
            >
              <div class="from-block">
                <label
                  [matTooltip]="
                    profile_status === 'verified'
                      ? 'Not allowed to update aadhaar details'
                      : ''
                  "
                  >Upload Aadhaar <span>*</span></label
                >
                <div class="file-wrapper">
                  <input
                    formControlName="aadhar"
                    (change)="uploadAadhar($event.target.files, 'single')"
                    type="file"
                  />
                  <a
                    *ngIf="aadhar_url"
                    href="{{ aadhar_url ? aadhar_url : '' }}"
                    target="_blank"
                    >View Document</a
                  >
                </div>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.aadhar.errors &&
                    editProfileForm.controls.aadhar.dirty
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.aadhar.errors.requiredPdfDocument
                    "
                    translate
                    >Aadhaar must be of type PDF</span
                  >
                </mat-error>
              </div>
            </ng-container>

            <ng-container
              *ngIf="
                editProfileForm.controls.aadhar_media_type.value == 'image'
              "
            >
              <!-- Upload   -->
              <div class="from-block">
                <label
                  [matTooltip]="
                    profile_status === 'verified'
                      ? 'Not allowed to update aadhaar details'
                      : ''
                  "
                  >Upload Aadhaar Front <span>*</span></label
                >
                <div class="file-wrapper">
                  <input
                    formControlName="aadhar_front"
                    (change)="uploadAadhar($event.target.files, 'front')"
                    type="file"
                  />
                  <a
                    *ngIf="aadhar_front_url"
                    href="{{ aadhar_front_url ? aadhar_front_url : '' }}"
                    target="_blank"
                    >View Document</a
                  >
                </div>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.aadhar_front.errors &&
                    editProfileForm.controls.aadhar_front.dirty
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.aadhar_front.errors
                        .requiredFileAvatar
                    "
                    translate
                    >Aadhaar Front must be of type PNG / JPG / JPEG</span
                  >
                </mat-error>
              </div>

              <!-- Upload   -->
              <div class="from-block">
                <label
                  [matTooltip]="
                    profile_status === 'verified'
                      ? 'Not allowed to update aadhaar details'
                      : ''
                  "
                  >Upload Aadhaar Back <span>*</span></label
                >
                <div class="file-wrapper">
                  <input
                    formControlName="aadhar_back"
                    (change)="uploadAadhar($event.target.files, 'back')"
                    type="file"
                  />
                  <a
                    *ngIf="aadhar_back_url"
                    href="{{ aadhar_back_url ? aadhar_back_url : '' }}"
                    target="_blank"
                    >View Document</a
                  >
                </div>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.aadhar_back.errors &&
                    editProfileForm.controls.aadhar_back.dirty
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.aadhar_back.errors
                        .requiredFileAvatar
                    "
                    translate
                    >Aadhaar Back must be of type PNG / JPG / JPEG</span
                  >
                </mat-error>
              </div>
            </ng-container>

            <div class="from-block">
              <label
                [matTooltip]="
                  profile_status === 'verified'
                    ? 'Not allowed to update aadhaar details'
                    : ''
                "
                >Aadhaar Number <span>*</span></label
              >
              <input
                placeholder="Aadhaar Number"
                formControlName="aadhar_number"
                type="text"
                matinput
              />
              <mat-error
                *ngIf="
                  editProfileForm.controls.aadhar_number.invalid &&
                  editProfileForm.controls.aadhar_number.touched
                "
              >
                <span
                  translate
                  class="error-text"
                  *ngIf="editProfileForm.controls.aadhar_number.errors.required"
                >
                  Aadhaar Number is required</span
                >
                <ng-template #lengthBlock>
                  <span
                    *ngIf="
                      editProfileForm.controls.aadhar_number.errors.minlength
                    "
                  >
                    Please provide number upto
                    {{
                      editProfileForm.controls.aadhar_number.errors.minlength
                        .requiredLength
                    }}
                    characters
                  </span>
                  <span
                    *ngIf="
                      editProfileForm.controls.aadhar_number.errors.maxlength
                    "
                  >
                    Please provide number upto
                    {{
                      editProfileForm.controls.aadhar_number.errors.maxlength
                        .requiredLength
                    }}
                    characters
                  </span>
                </ng-template>
                <span
                  translate
                  class="error-text"
                  *ngIf="
                    editProfileForm.controls.aadhar_number.errors.pattern;
                    else lengthBlock
                  "
                >
                  Aadhaar Number is invalid
                </span>
              </mat-error>
            </div>

            <!-- Player Upload   -->
            <div class="from-block">
              <label
                [matTooltip]="
                  profile_status === 'verified'
                    ? 'Not allowed to update aadhaar details'
                    : ''
                "
                >Player Photo Upload
                <i-feather
                  matTooltip="This will be used only for verification purpose and will not be visible to anyone"
                  name="info"
                  class="info"
                ></i-feather>
                <span>*</span></label
              >
              <div class="file-wrapper">
                <input
                  [matTooltip]="
                    profile_status === 'verified'
                      ? 'Not allowed to update aadhaar details'
                      : ''
                  "
                  formControlName="player_photo"
                  (change)="uploadPlayerPhoto($event.target.files)"
                  type="file"
                />
                <a
                  *ngIf="player_photo_url"
                  href="{{ player_photo_url ? player_photo_url : '' }}"
                  target="_blank"
                  >View Document</a
                >
              </div>
              <mat-error
                *ngIf="
                  editProfileForm.controls.player_photo.errors &&
                  editProfileForm.controls.player_photo.dirty
                "
              >
                <span
                  *ngIf="
                    editProfileForm.controls.player_photo.errors
                      .requiredFileAvatar
                  "
                  translate
                  >Player Photo must be of type PNG / JPG / JPEG</span
                >
              </mat-error>
            </div>
          </div>
        </div>

        <!-- Employement Contract list -->
        <div class="contract">
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Employment Contracts
                  <span>*</span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="contract-btn">
                <a>
                  Add New Contract
                </a>
              </div>
              <div class="contract-listing"></div>
              <ng-container *ngIf="!dataSource.data.length">
              <div class="default-text">
                  <h3>No contract, please add a contract</h3>
                </div>
              </ng-container>
              <div class="table">
                <div class="table-container">
                  <app-table
                    [tableConfig]="tableConfig"
                    [NumberColumn]="'true'"
                    [rows]="dataSource"
                    [TableActions]="ListAction"
                  >
                  </app-table>
                  <ng-template #ListAction>
                    <div class="action-buttons">
                      <button matTooltip="View">
                        <img src="assets/images/icons/eyes.png" alt="View" />
                      </button>

                      <button matTooltip="Delete" (click)="deletePopup(id)">
                        <img src="assets/images/icons/bin.png" alt="Delete" />
                      </button>
                    </div>
                  </ng-template>
                </div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
        </div>

        <!-- Professional -->
        <div class="block">
          <div class="block-header border-bottom">
            <h4>Professional Details</h4>
            <!-- <p>Lorem ipsum dolor sit amet, consecteturs.</p> -->
          </div>
          <div class="block-middle">
            <!-- Position ( Priority First ) -->
            <ng-container
              formArrayName="position"
              *ngFor="
                let data of editProfileForm.get('position').controls;
                let i = index
              "
            >
              <div class="from-block" [formGroupName]="i">
                <label>Position ( Priority {{ i + 1 }} ) <span>*</span></label>
                <select formControlName="id" matNativeControl required>
                  <option value="">Select Position</option>
                  <ng-container *ngFor="let position of positionArray">
                    <option value="{{ position.id }}">{{
                      position.name
                    }}</option>
                  </ng-container>
                </select>
                <!-- <mat-error
                  *ngIf="
                    editProfileForm.controls.position1.invalid &&
                    editProfileForm.controls.position1.touched
                  "
                >
                  <span
                    *ngIf="editProfileForm.controls.position1.errors.required"
                    translate
                    >Position with first priority is required</span
                  >
                </mat-error> -->
              </div>
            </ng-container>

            <!-- Strong foot -->
            <div class="from-block">
              <label>Strong foot <span>*</span></label>
              <select formControlName="strong_foot" matNativeControl required>
                <option value="">Select Strong Foot</option>
                <ng-container *ngFor="let foot of strongFootArray">
                  <option value="{{ foot.value }}">{{ foot.name }}</option>
                </ng-container>
              </select>
              <mat-error
                *ngIf="
                  editProfileForm.controls.strong_foot.invalid &&
                  editProfileForm.controls.strong_foot.touched
                "
              >
                <span
                  *ngIf="editProfileForm.controls.strong_foot.errors.required"
                  translate
                  >Strong Foot is required</span
                >
              </mat-error>
            </div>

            <!-- Current associated club / academy  -->
            <div class="from-block">
              <label>Current associated club / academy <span>*</span></label>
              <div class="radio">
                <label
                  ><input
                    type="radio"
                    formControlName="associated_club"
                    value="yes"
                    [checked]="
                      profile?.club_academy_details &&
                      profile.club_academy_details?.head_coach_phone &&
                      profile.club_academy_details?.head_coach_name
                    "
                  />
                  <span>Yes</span>
                </label>
                <label
                  ><input
                    type="radio"
                    formControlName="associated_club"
                    value="no"
                    [checked]="
                      !(
                        profile?.club_academy_details &&
                        profile.club_academy_details?.head_coach_phone &&
                        profile.club_academy_details?.head_coach_name
                      )
                    "
                  />
                  <span>No</span>
                </label>
              </div>
            </div>

            <!-- Weak foot -->
            <div class="from-block">
              <label>Weak foot</label>
              <div class="star-rating">
                <input
                  formControlName="weak_foot"
                  (onclick)="editProfileForm.controls.weak_foot.value = 5"
                  type="radio"
                  id="5-stars"
                  value="5"
                />
                <label for="5-stars" class="star">&#9733;</label>
                <input
                  formControlName="weak_foot"
                  (onclick)="editProfileForm.controls.weak_foot.value = 4"
                  type="radio"
                  id="4-stars"
                  value="4"
                />
                <label for="4-stars" class="star">&#9733;</label>
                <input
                  formControlName="weak_foot"
                  (onclick)="editProfileForm.controls.weak_foot.value = 3"
                  type="radio"
                  id="3-stars"
                  value="3"
                />
                <label for="3-stars" class="star">&#9733;</label>
                <input
                  formControlName="weak_foot"
                  (onclick)="editProfileForm.controls.weak_foot.value = 2"
                  type="radio"
                  id="2-stars"
                  value="2"
                />
                <label for="2-stars" class="star">&#9733;</label>
                <input
                  formControlName="weak_foot"
                  (onclick)="editProfileForm.controls.weak_foot.value = 1"
                  type="radio"
                  id="1-star"
                  value="1"
                />
                <label for="1-star" class="star">&#9733;</label>
              </div>
            </div>

            <!-- Head coach phone number * -->
            <ng-container
              *ngIf="editProfileForm.controls.associated_club.value === 'yes'"
            >
              <div class="from-block">
                <label>Head coach name <span>*</span></label>
                <input
                  formControlName="head_coach_name"
                  placeholder="Name"
                  type="text"
                  matInput
                  autocomplete="off"
                />
                <mat-error
                  *ngIf="
                    editProfileForm.controls.head_coach_name.invalid &&
                    editProfileForm.controls.head_coach_name.touched
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.head_coach_name.errors.required
                    "
                    translate
                    >Head Coach Name is required
                  </span>
                  <span
                    *ngIf="
                      editProfileForm.controls.head_coach_name.errors.pattern
                    "
                    translate
                    >Head Coach Name format is invalid
                  </span>
                </mat-error>
              </div>

              <div class="from-block">
                <label>Head coach phone number <span>*</span></label>
                <div class="contact-no">
                  <div class="countrycode">
                    <input type="text" value="+91" readonly tabindex="-1" />
                  </div>
                  <div class="phonenumber">
                    <input
                      formControlName="head_coach_phone"
                      placeholder="Phone Number"
                      type="text"
                      matInput
                      autocomplete="off"
                    />
                  </div>
                </div>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.head_coach_phone.invalid &&
                    editProfileForm.controls.head_coach_phone.touched
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.head_coach_phone.errors.required
                    "
                    translate
                    >Head Coach Phone is required</span
                  >
                  <ng-template #lengthBlock>
                    <span
                      *ngIf="
                        editProfileForm.controls.head_coach_phone.errors
                          .minlength
                      "
                    >
                      Please provide number upto
                      {{
                        editProfileForm.controls.head_coach_phone.errors
                          .minlength.requiredLength
                      }}
                      digits
                    </span>
                    <span
                      *ngIf="
                        editProfileForm.controls.head_coach_phone.errors
                          .maxlength
                      "
                    >
                      Please provide number upto
                      {{
                        editProfileForm.controls.head_coach_phone.errors
                          .maxlength.requiredLength
                      }}
                      digits
                    </span>
                  </ng-template>
                  <span
                    translate
                    class="error-text"
                    *ngIf="
                      editProfileForm.controls.head_coach_phone.errors.pattern;
                      else lengthBlock
                    "
                  >
                    Phone Number format is invalid
                  </span>
                </mat-error>
              </div>

              <!-- Head coach email number -->
              <div class="from-block">
                <label>Head coach email </label>
                <input
                  formControlName="head_coach_email"
                  placeholder="Email"
                  type="text"
                  matInput
                  autocomplete="off"
                />
                <mat-error
                  *ngIf="
                    editProfileForm.controls.head_coach_email.invalid &&
                    editProfileForm.controls.head_coach_email.touched
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.head_coach_email.errors.required
                    "
                    translate
                    >Head Coach Email is required
                  </span>
                  <span
                    *ngIf="
                      editProfileForm.controls.head_coach_email.errors.email
                    "
                    translate
                    >Head Coach Email format is invalid
                  </span>
                </mat-error>
              </div>
            </ng-container>

            <!-- former Club -->
            <ng-container *ngIf="player_type !== 'grassroot'">
              <div class="from-block">
                <label>Former Club (optional, if any)</label>
                <input
                  formControlName="former_club"
                  placeholder="Former Club"
                  type="text"
                  matInput
                />
              </div>
            </ng-container>
          </div>
        </div>
      </div>

      <!-- clubs and acadmey -->
      <div class="academy-club">
        <ng-template #club_acadBlock>
          <!-- personal detials -->
          <div class="block">
            <div class="block-header border-bottom">
              <h4>Personal Details</h4>
              <!-- <p>Lorem ipsum dolor sit amet, consecteturs.</p> -->
            </div>
            <div class="block-middle">
              <!-- club name -->
              <div class="from-block">
                <label
                  >{{
                    member_type === 'academy' ? 'Academy Name' : 'Club Name'
                  }}
                  <span>*</span></label
                >
                <input
                  formControlName="name"
                  [placeholder]="
                    member_type === 'academy' ? 'Academy Name' : 'Club Name'
                  "
                  type="text"
                  matInput
                />
                <mat-error
                  *ngIf="
                    editProfileForm.controls.name.invalid &&
                    editProfileForm.controls.name.touched
                  "
                >
                  <span
                    [innerText]="
                      member_type === 'academy'
                        ? 'Academy Name is required'
                        : 'Club Name is required'
                    "
                    *ngIf="editProfileForm.controls.name.errors.required"
                    translate
                  ></span>
                  <span
                    *ngIf="
                      !editProfileForm.controls.name.errors.required &&
                      editProfileForm.controls.name.errors.pattern
                    "
                    [innerText]="
                      member_type === 'academy'
                        ? 'Academy Name is invalid'
                        : 'Club Name is invalid'
                    "
                    translate
                  ></span>
                  <span
                    *ngIf="
                      !editProfileForm.controls.name.errors.required &&
                      !editProfileForm.controls.name.errors.pattern &&
                      editProfileForm.controls.name.errors.maxlength
                    "
                    [innerText]="
                      member_type === 'academy'
                        ? 'Academy Name cannot be greater than 25 characters'
                        : 'Club Name cannot be greater than 25 characters'
                    "
                    translate
                  ></span>
                </mat-error>
              </div>

              <!-- Short Club name -->
              <div class="from-block">
                <label
                  [innerText]="
                    member_type === 'academy'
                      ? 'Short Academy Name'
                      : 'Short Club Name'
                  "
                  >Short Club Name</label
                >
                <input
                  formControlName="short_name"
                  [placeholder]="
                    member_type === 'academy'
                      ? 'Short Academy Name'
                      : 'Short Club Name'
                  "
                  type="text"
                  matInput
                />
              </div>

              <!-- founded In -->
              <div class="from-block">
                <label>Founded ( Year ) <span>*</span></label>
                <input
                  formControlName="founded_in"
                  placeholder="Founded Year"
                  type="text"
                  matInput
                />

                <mat-error
                  *ngIf="
                    editProfileForm.controls.founded_in.invalid &&
                    editProfileForm.controls.founded_in.touched
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.founded_in.errors.required;
                      else charBlock
                    "
                    translate
                    >Founded is required</span
                  >
                  <ng-template #charBlock>
                    <span
                      *ngIf="
                        editProfileForm.controls.founded_in.errors.maxlength ||
                          editProfileForm.controls.founded_in.errors.minlength;
                        else patternBlock
                      "
                      translate
                    >
                      Founded length must be equal to 4
                    </span>
                  </ng-template>
                  <ng-template #patternBlock>
                    <span
                      *ngIf="
                        editProfileForm.controls.founded_in.errors.pattern;
                        else maxBlock
                      "
                      translate
                    >
                      Founded format is invalid
                    </span>
                  </ng-template>
                  <ng-template #maxBlock>
                    <span
                      *ngIf="editProfileForm.controls.founded_in.errors.max"
                      translate
                    >
                      Founded cannot be greater than current year
                    </span>
                  </ng-template>
                </mat-error>
              </div>

              <!-- country -->
              <div class="from-block">
                <label>Country <span>*</span></label>
                <select
                  formControlName="country"
                  matNativeControl
                  required
                  (change)="onSelectCountry($event)"
                >
                  <option value="">Select Country</option>
                  <ng-container *ngFor="let country of countryArray">
                    <option value="{{ country.country_id }}">{{
                      country.country
                    }}</option>
                  </ng-container>
                </select>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.country.invalid &&
                    editProfileForm.controls.country.touched
                  "
                >
                  <span
                    *ngIf="editProfileForm.controls.country.errors.required"
                    translate
                    >Country is required</span
                  >
                </mat-error>
              </div>

              <div class="from-block">
                <label>State <span>*</span></label>
                <select
                  formControlName="state"
                  matNativeControl
                  required
                  (change)="onSelectState($event)"
                >
                  <option value="">Select State</option>
                  <ng-container *ngFor="let state of stateArray">
                    <option value="{{ state.id }}">{{ state.name }}</option>
                  </ng-container>
                </select>

                <mat-error
                  *ngIf="
                    editProfileForm.controls.state.invalid &&
                    editProfileForm.controls.state.touched
                  "
                >
                  <span
                    *ngIf="editProfileForm.controls.state.errors.required"
                    translate
                    >State is required</span
                  >
                </mat-error>
              </div>

              <!-- city -->
              <div class="from-block">
                <label>City <span>*</span></label>
                <select formControlName="city" matNativeControl required>
                  <option value="">Select City</option>
                  <ng-container *ngFor="let city of cityArray">
                    <option value="{{ city.id }}">{{ city.name }}</option>
                  </ng-container>
                </select>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.city.invalid &&
                    editProfileForm.controls.city.touched
                  "
                >
                  <span
                    *ngIf="editProfileForm.controls.city.errors.required"
                    translate
                    >City is required</span
                  >
                </mat-error>
              </div>

              <!-- Address -->
              <div class="from-block">
                <label
                  >Office Address
                  <span *ngIf="member_type === 'academy'">*</span></label
                >
                <input
                  formControlName="address"
                  placeholder="Office Address"
                  type="text"
                  matInput
                />
                <mat-error
                  *ngIf="
                    editProfileForm.controls.address.invalid &&
                    editProfileForm.controls.address.touched
                  "
                >
                  <span
                    *ngIf="editProfileForm.controls.address.errors.required"
                    translate
                    >Office Address is required</span
                  >
                </mat-error>
              </div>

              <!-- Zipcode / pincode -->
              <div class="from-block">
                <label
                  >Zipcode / Pincode
                  <span *ngIf="member_type === 'academy'">*</span></label
                >
                <input
                  formControlName="pincode"
                  placeholder="ZipCode / Pincode"
                  type="text"
                  matInput
                />
                <mat-error
                  *ngIf="
                    editProfileForm.controls.pincode.invalid &&
                    editProfileForm.controls.pincode.touched
                  "
                >
                  <span
                    *ngIf="editProfileForm.controls.pincode.errors.required"
                    translate
                    >Zipcode / Pincode is required</span
                  >
                  <span
                    class="error-text"
                    *ngIf="
                      editProfileForm.controls.pincode.errors &&
                      editProfileForm.controls.pincode.errors.pattern
                    "
                  >
                    Zipcode / Pincode format is invalid
                  </span>
                </mat-error>
              </div>

              <!-- email -->
              <div class="from-block">
                <label>Email <span>*</span></label>
                <input
                  disabled
                  [value]="user_email"
                  placeholder="Email"
                  type="email"
                  matinput
                />
              </div>

              <!-- Phone -->
              <div class="from-block">
                <label>Phone Number</label>
                <div class="contact-no">
                  <div class="countrycode">
                    <input type="text" value="+91" readonly tabindex="-1" />
                  </div>
                  <div class="phonenumber">
                    <input
                      formControlName="phone"
                      placeholder="Phone Number"
                      type="text"
                      matinput
                    />
                    <mat-error
                      *ngIf="
                        editProfileForm.controls.phone.invalid &&
                        editProfileForm.controls.phone.touched
                      "
                    >
                      <span
                        *ngIf="editProfileForm.controls.phone.errors.required"
                        translate
                        >Phone number is required</span
                      >
                      <ng-template #lengthBlock>
                        <span
                          *ngIf="
                            editProfileForm.controls.phone.errors.minlength
                          "
                        >
                          Please provide number upto
                          {{
                            editProfileForm.controls.phone.errors.minlength
                              .requiredLength
                          }}
                          digits
                        </span>
                        <span
                          *ngIf="
                            editProfileForm.controls.phone.errors.maxlength
                          "
                        >
                          Please provide number upto
                          {{
                            editProfileForm.controls.phone.errors.maxlength
                              .requiredLength
                          }}
                          digits
                        </span>
                      </ng-template>
                      <mat-error
                        class="error-text"
                        *ngIf="
                          editProfileForm.controls.phone.errors.pattern;
                          else lengthBlock
                        "
                      >
                        Phone Number format is invalid
                      </mat-error>
                    </mat-error>
                  </div>
                </div>
              </div>

              <div
                class="from-block"
                *ngIf="member_type === 'club' || member_type === 'academy'"
              >
                <label>Mobile Number <span>*</span></label>
                <div class="contact-no">
                  <div class="countrycode">
                    <input type="text" value="+91" readonly tabindex="-1" />
                  </div>
                  <div class="phonenumber">
                    <input
                      formControlName="mobile_number"
                      placeholder="Mobile Number"
                      type="text"
                      matInput
                    />
                  </div>
                </div>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.mobile_number.invalid &&
                    editProfileForm.controls.mobile_number.touched
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.mobile_number.errors.required
                    "
                    translate
                    >Mobile Number is required</span
                  >
                  <ng-template #lengthBlock>
                    <span
                      translate
                      class="error-text"
                      *ngIf="
                        editProfileForm.controls.mobile_number.errors.minlength
                      "
                    >
                      Please provide number upto
                      {{
                        editProfileForm.controls.mobile_number.errors.minlength
                          .requiredLength
                      }}
                      digits
                    </span>
                    <span
                      translate
                      class="error-text"
                      *ngIf="
                        editProfileForm.controls.mobile_number.errors.maxlength
                      "
                    >
                      Please provide number upto
                      {{
                        editProfileForm.controls.mobile_number.errors.maxlength
                          .requiredLength
                      }}
                      digits
                    </span>
                  </ng-template>
                  <span
                    class="error-text"
                    *ngIf="
                      editProfileForm.controls.mobile_number.errors.pattern;
                      else lengthBlock
                    "
                    translate
                  >
                    Mobile Number format is invalid
                  </span>
                </mat-error>
              </div>

              <!-- Stadium Name -->
              <div
                class="from-block"
                *ngIf="member_type === 'club' || member_type === 'academy'"
              >
                <label>Stadium Name</label>
                <input
                  formControlName="stadium_name"
                  placeholder="Stadium Name"
                  type="text"
                  matInput
                />
              </div>

              <!-- <div
                class="from-block"
                *ngIf="member_type === 'club' || member_type === 'academy'"
              ></div> -->

              <!-- Club owner
              <div class="from-block">
                <label
                  [innerText]="
                    member_type === 'academy' ? 'Academy owner' : 'Club owner'
                  "
                  >Club owner <span>*</span></label
                >
                <input formControlName="owner" type="text" matinput />
                <ng-container *ngIf="isFocused(editProfileForm, 'owner')">
                  <span
                    [innerText]="
                      member_type === 'academy'
                        ? 'Academy owner is required'
                        : 'Club owner is required'
                    "
                    class="error-text"
                    *ngIf="isRequired(editProfileForm, 'owner')"
                    >Club owner is required</span
                  >
                </ng-container>
              </div> -->

              <!-- Manager 
              <div class="from-block">
                <label>Manager <span>*</span></label>
                <input formControlName="manager" type="text" matinput />
                <ng-container *ngIf="isFocused(editProfileForm, 'manager')">
                  <span
                    class="error-text"
                    *ngIf="isRequired(editProfileForm, 'manager')"
                    >Manager is required</span
                  >
                </ng-container>
              </div> -->

              <!-- Document -->
              <ng-container *ngIf="member_type === 'academy'">
                <div class="from-block w-100">
                  <label
                    [matTooltip]="
                      profile_status === 'verified'
                        ? 'Not allowed to update details'
                        : ''
                    "
                    >Document Type</label
                  >
                  <div class="radio">
                    <label
                      ><input
                        formControlName="document_type"
                        type="radio"
                        value="aiff"
                        (change)="onChangeDocumentType($event)"
                      />
                      <span>AIFF Status</span>
                    </label>
                    <label
                      ><input
                        formControlName="document_type"
                        type="radio"
                        value="pan"
                        (change)="onChangeDocumentType($event)"
                      />
                      <span>PAN Number</span>
                    </label>
                    <label
                      ><input
                        formControlName="document_type"
                        type="radio"
                        value="tin"
                        (change)="onChangeDocumentType($event)"
                      />
                      <span>TIN Number</span>
                    </label>
                    <label
                      ><input
                        formControlName="document_type"
                        type="radio"
                        value="coi"
                        (change)="onChangeDocumentType($event)"
                      />
                      <span>COI Number</span>
                    </label>
                  </div>
                </div>
                <div class="from-block" *ngIf="member_type === 'academy'">
                  <label
                    [matTooltip]="
                      profile_status === 'verified'
                        ? 'Not allowed to update details'
                        : ''
                    "
                    >Document Number</label
                  >
                  <input
                    formControlName="number"
                    placeholder="Document Number"
                    type="text"
                    matInput
                  />
                  <mat-error
                    *ngIf="
                      editProfileForm.controls.number.invalid &&
                      editProfileForm.controls.number.touched
                    "
                  >
                    <span
                      *ngIf="editProfileForm.controls.number.errors.required"
                      translate
                      >Document Number is required</span
                    >
                    <ng-template #lengthBlock>
                      <span
                        *ngIf="editProfileForm.controls.number.errors.minlength"
                      >
                        Please provide number upto
                        {{
                          editProfileForm.controls.number.errors.minlength
                            .requiredLength
                        }}
                        digits
                      </span>
                      <span
                        *ngIf="editProfileForm.controls.number.errors.maxlength"
                      >
                        Please provide number upto
                        {{
                          editProfileForm.controls.number.errors.maxlength
                            .requiredLength
                        }}
                        digits
                      </span>
                    </ng-template>
                    <span
                      class="error-text"
                      *ngIf="
                        editProfileForm.controls.number.errors.pattern;
                        else lengthBlock
                      "
                    >
                      Document Number is invalid
                    </span>
                  </mat-error>
                </div>
              </ng-container>

              <!-- Upload   -->
              <div class="from-block" *ngIf="member_type === 'club'">
                <label
                  [matTooltip]="
                    profile_status == 'verified'
                      ? 'Not allowed to update details'
                      : ''
                  "
                  >AIFF Accreditation ID <span>*</span></label
                >
                <input
                  formControlName="aiff_id"
                  placeholder="Document Number"
                  type="text"
                  matInput
                />
              </div>
              <div class="from-block" *ngIf="member_type === 'club'">
                <label
                  [matTooltip]="
                    profile_status == 'verified'
                      ? 'Not allowed to update details'
                      : ''
                  "
                  >Upload AIFF Accreditation Document <span>*</span></label
                >
                <div class="file-wrapper">
                  <input
                    type="file"
                    formControlName="aiff"
                    (change)="uploadAiff($event.target.files)"
                  />
                  <a
                    *ngIf="document_url"
                    href="{{ document_url ? document_url : '' }}"
                    target="_blank"
                    >View Document</a
                  >
                </div>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.aiff.errors &&
                    editProfileForm.controls.aiff.dirty
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.aiff.errors.requiredFileDocument
                    "
                    translate
                    >AIFF status must be of type PDF / PNG / JPG / JPEG</span
                  >
                </mat-error>
              </div>

              <!-- AIFF number  -->
              <!-- <div class="from-block" *ngIf="member_type === 'club'">
                <label>AIFF Number</label>
                <input type="Text" matinput />
              </div> -->

              <div class="from-block" *ngIf="member_type === 'academy'">
                <label
                  [matTooltip]="
                    profile_status == 'verified'
                      ? 'Not allowed to update details'
                      : ''
                  "
                  >Upload Document</label
                >
                <div class="file-wrapper">
                  <input
                    type="file"
                    formControlName="document"
                    (change)="uploadDocument($event.target.files)"
                  />
                  <a
                    *ngIf="document_url"
                    href="{{ document_url ? document_url : '' }}"
                    target="_blank"
                    >View Document</a
                  >
                </div>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.document.errors &&
                    editProfileForm.controls.document.dirty
                  "
                >
                  <span
                    *ngIf="
                      editProfileForm.controls.document.errors
                        .requiredFileDocument
                    "
                    translate
                    >Document must be of type PDF / PNG / JPG / JPEG</span
                  >
                </mat-error>
              </div>

              <!-- <div class="from-block" *ngIf="member_type === 'academy'">
                <label
                  >Document Number
                </label>
                <input type="text" matinput />
              </div> -->
            </div>
          </div>

          <!-- Professional -->
          <div class="block">
            <div class="block-header border-bottom">
              <h4>Professional Details</h4>
              <!-- <p>Lorem ipsum dolor sit amet, consecteturs.</p> -->
            </div>
            <div class="block-middle">
              <div class="contact-details block-part">
                <!-- Add contact Details btn -->
                <div class="input-wrapper w-100 align-right">
                  <a class="mt-0" (click)="addContactPerson()">Add Contact</a>
                </div>

                <!-- add contact fields -->
                <div
                  class="form-block-clubs"
                  *ngFor="
                    let contact of editProfileForm.get('contact_person')
                      .controls;
                    let i = index
                  "
                  formArrayName="contact_person"
                >
                  <ng-container [formGroupName]="i">
                    <label>Contact Person <span>*</span></label>

                    <div class="input-wrapper">
                      <label>Designation <span>*</span></label>
                      <select
                        formControlName="designation"
                        matNativeControl
                        required
                      >
                        <option value="">Select Designation</option>
                        <ng-container
                          *ngFor="let designation of designationArray"
                        >
                          <option value="{{ designation.value }}">{{
                            designation.name
                          }}</option>
                        </ng-container>
                      </select>
                      <mat-error
                        *ngIf="
                          editProfileForm.controls.contact_person.controls[
                            i
                          ].get('designation').invalid &&
                          editProfileForm.controls.contact_person.controls[
                            i
                          ].get('designation').touched
                        "
                      >
                        <span
                          *ngIf="
                            editProfileForm.controls.contact_person.controls[i]
                              .get('designation')
                              .hasError('required')
                          "
                          translate
                          >Designation is required</span
                        >
                      </mat-error>
                    </div>

                    <div class="input-wrapper">
                      <label>Name <span>*</span></label>
                      <input
                        formControlName="name"
                        placeholder="Name"
                        type="text"
                        matInput
                      />
                      <mat-error
                        *ngIf="
                          editProfileForm.controls.contact_person.controls[
                            i
                          ].get('name').invalid &&
                          editProfileForm.controls.contact_person.controls[
                            i
                          ].get('name').touched
                        "
                      >
                        <span
                          *ngIf="
                            editProfileForm.controls.contact_person.controls[i]
                              .get('name')
                              .hasError('required')
                          "
                          translate
                          >Name is required</span
                        >
                      </mat-error>
                    </div>

                    <div class="input-wrapper">
                      <label>Email <span>*</span></label>
                      <input
                        formControlName="email"
                        placeholder="Email"
                        type="email"
                        matInput
                        autocomplete="off"
                      />
                      <mat-error
                        *ngIf="
                          editProfileForm.controls.contact_person.controls[
                            i
                          ].get('email').invalid &&
                          editProfileForm.controls.contact_person.controls[
                            i
                          ].get('email').touched
                        "
                      >
                        <span
                          *ngIf="
                            editProfileForm.controls.contact_person.controls[i]
                              .get('email')
                              .hasError('required')
                          "
                          translate
                          >Email is required</span
                        >
                        <span
                          *ngIf="
                            editProfileForm.controls.contact_person.controls[i]
                              .get('email')
                              .hasError('email')
                          "
                          translate
                          >Email format is invalid</span
                        >
                      </mat-error>
                    </div>

                    <div class="ph-no">
                      <label>Phone Number <span>*</span></label>
                      <div class="contact-no">
                        <div class="countrycode">
                          <input
                            type="text"
                            value="+91"
                            readonly
                            tabindex="-1"
                          />
                        </div>
                        <div class="phonenumber">
                          <input
                            formControlName="phone_number"
                            placeholder="Phone Number"
                            type="text"
                            matInput
                            autocomplete="off"
                          />
                          <mat-error
                            *ngIf="
                              editProfileForm.controls.contact_person.controls[
                                i
                              ].get('phone_number').invalid &&
                              editProfileForm.controls.contact_person.controls[
                                i
                              ].get('phone_number').touched
                            "
                          >
                            <span
                              *ngIf="
                                editProfileForm.controls.contact_person.controls[
                                  i
                                ]
                                  .get('phone_number')
                                  .hasError('required')
                              "
                              translate
                              >Phone Number is required</span
                            >
                            <ng-template #lengthBlock>
                              <span
                                *ngIf="
                                  editProfileForm.controls.contact_person.controls[
                                    i
                                  ]
                                    .get('phone_number')
                                    .hasError('minlength')
                                "
                              >
                                Please provide number upto
                                {{
                                  editProfileForm.controls.contact_person.controls[
                                    i
                                  ].get('phone_number').errors.minlength
                                    .requiredLength
                                }}
                                digits
                              </span>
                              <span
                                *ngIf="
                                  editProfileForm.controls.contact_person.controls[
                                    i
                                  ]
                                    .get('phone_number')
                                    .hasError('maxlength')
                                "
                              >
                                Please provide number upto
                                {{
                                  editProfileForm.controls.contact_person.controls[
                                    i
                                  ].get('phone_number').errors.maxlength
                                    .requiredLength
                                }}
                                digits
                              </span>
                            </ng-template>
                            <span
                              *ngIf="
                                editProfileForm.controls.contact_person.controls[
                                  i
                                ]
                                  .get('phone_number')
                                  .hasError('pattern');
                                else lengthBlock
                              "
                            >
                              Phone Number format is invalid
                            </span>
                          </mat-error>
                        </div>
                      </div>
                    </div>

                    <div class="input-wrapper pb-0">
                      <a (click)="removeContactPerson(i)">Remove</a>
                    </div>
                  </ng-container>
                </div>
              </div>

              <!-- major trophies -->
              <div class="trophies block-part">
                <!-- add trophes button -->
                <div class="input-wrapper w-100 align-right">
                  <a class="mt-0" (click)="addTrophy()">Add Trophy</a>
                </div>

                <!-- major tophies fields -->
                <div
                  class="form-block-clubs"
                  *ngFor="
                    let trophy of this.editProfileForm.get('trophies').controls;
                    let i = index
                  "
                  formArrayName="trophies"
                >
                  <label
                    >Major trophy Wins
                    <span *ngIf="member_type === 'academy'">*</span></label
                  >

                  <ng-container [formGroupName]="i">
                    <div class="input-wrapper-full">
                      <label>Trophy Name <span>*</span></label>
                      <input
                        type="text"
                        matInput
                        placeholder="Trophy Name"
                        formControlName="name"
                      />
                      <mat-error
                        *ngIf="
                          editProfileForm.controls.trophies.controls[i].get(
                            'name'
                          ).invalid &&
                          editProfileForm.controls.trophies.controls[i].get(
                            'name'
                          ).touched
                        "
                      >
                        <span
                          *ngIf="
                            editProfileForm.controls.trophies.controls[i]
                              .get('name')
                              .hasError('required')
                          "
                          translate
                          >Name is required</span
                        >
                      </mat-error>
                    </div>

                    <div class="input-wrapper-full">
                      <label>Year <span>*</span></label>
                      <input
                        type="text"
                        matInput
                        placeholder="Year"
                        formControlName="year"
                      />
                      <mat-error
                        *ngIf="
                          editProfileForm.controls.trophies.controls[i].get(
                            'year'
                          ).invalid &&
                          editProfileForm.controls.trophies.controls[i].get(
                            'year'
                          ).touched
                        "
                      >
                        <span
                          *ngIf="
                            editProfileForm.controls.trophies.controls[i]
                              .get('year')
                              .hasError('required');
                            else charBlock
                          "
                          translate
                          >Year is required</span
                        >
                        <ng-template #charBlock>
                          <span
                            *ngIf="
                              editProfileForm.controls.trophies.controls[i]
                                .get('year')
                                .hasError('maxlength') ||
                                editProfileForm.controls.trophies.controls[i]
                                  .get('year')
                                  .hasError('minlength');
                              else patternBlock
                            "
                            translate
                          >
                            Year length must be equal to 4
                          </span>
                        </ng-template>
                        <ng-template #patternBlock>
                          <span
                            *ngIf="
                              editProfileForm.controls.trophies.controls[i]
                                .get('year')
                                .hasError('pattern');
                              else maxBlock
                            "
                            translate
                          >
                            Year format is invalid
                          </span>
                        </ng-template>
                        <ng-template #maxBlock>
                          <span
                            *ngIf="
                              editProfileForm.controls.trophies.controls[i]
                                .get('year')
                                .hasError('max')
                            "
                            translate
                          >
                            Year cannot be greater than current year
                          </span>
                        </ng-template>
                      </mat-error>
                    </div>

                    <div class="input-wrapper-full">
                      <label>Position Secured <span>*</span></label>
                      <input
                        type="text"
                        matInput
                        placeholder="Position Secured"
                        formControlName="position"
                      />
                      <mat-error
                        *ngIf="
                          editProfileForm.controls.trophies.controls[i].get(
                            'position'
                          ).invalid &&
                          editProfileForm.controls.trophies.controls[i].get(
                            'position'
                          ).touched
                        "
                      >
                        <span
                          *ngIf="
                            editProfileForm.controls.trophies.controls[i]
                              .get('position')
                              .hasError('required')
                          "
                          translate
                          >Position is required</span
                        >
                      </mat-error>
                    </div>

                    <div class="input-wrapper">
                      <a (click)="removeTrophy(i)">Remove</a>
                    </div>
                  </ng-container>
                </div>
              </div>

              <!-- leagues -->
              <div class="leagues w-100 block-part">
                <!-- <div class="input-wrapper w-100 align-right">
                  <a class="mt-0">Add League</a>
                </div> -->

                <div class="form-block-clubs">
                  <label>League <span>*</span></label>
                  <div class="input-wrapper-academy">
                    <label>League Name <span>*</span></label>
                    <select matNativeControl formControlName="league" required>
                      <option value="">Select League</option>
                      <ng-container *ngFor="let league of leagueArray">
                        <option value="{{ league.value }}">{{
                          league.name
                        }}</option>
                      </ng-container>
                    </select>
                    <mat-error
                      *ngIf="
                        editProfileForm.controls.league.invalid &&
                        editProfileForm.controls.league.touched
                      "
                    >
                      <span
                        *ngIf="editProfileForm.controls.league.errors.required"
                        translate
                        >League is required</span
                      >
                    </mat-error>
                  </div>

                  <div
                    class="input-wrapper-academy"
                    *ngIf="editProfileForm.controls.league.value === 'Other'"
                  >
                    <label>Other </label>
                    <input
                      type="text"
                      matInput
                      placeholder="Other"
                      formControlName="league_other"
                    />
                    <mat-error
                      *ngIf="
                        editProfileForm.controls.league_other.invalid &&
                        editProfileForm.controls.league_other.touched
                      "
                    >
                      <span
                        *ngIf="
                          editProfileForm.controls.league_other.errors.pattern
                        "
                        translate
                        >Other League format is invalid</span
                      >
                    </mat-error>
                  </div>

                  <!--  <div class="input-wrapper">
                    <button>Remove</button>
                  </div> -->
                </div>
              </div>

              <!-- Top sign in -->
              <div
                class="top_signing-player w-100 block-part"
                *ngIf="member_type === 'club'"
              >
                <div class="input-wrapper w-100 align-right">
                  <a class="mt-0" (click)="addTopSigning()">
                    Add Top Signings
                  </a>
                </div>

                <!-- top sign in player -->
                <div class="flex-wrapper wrap">
                  <div
                    class="form-block-clubs w-50 "
                    *ngFor="
                      let top_signing of editProfileForm.get('top_signings')
                        .controls;
                      let i = index
                    "
                    formArrayName="top_signings"
                  >
                    <div class="w-50">
                      <label>Top signings</label>

                      <ng-container [formGroupName]="i">
                        <div class="flex-wrapper">
                          <div class="input-wrapper">
                            <input
                              type="text"
                              matInput
                              placeholder="Top Signings"
                              formControlName="name"
                            />
                            <mat-error
                              *ngIf="
                                editProfileForm.controls.top_signings.controls[
                                  i
                                ].get('name').invalid &&
                                editProfileForm.controls.top_signings.controls[
                                  i
                                ].get('name').touched
                              "
                            >
                              <span
                                *ngIf="
                                  editProfileForm.controls.top_signings.controls[
                                    i
                                  ]
                                    .get('name')
                                    .hasError('required')
                                "
                                translate
                                >Name is required</span
                              >
                            </mat-error>
                          </div>

                          <div class="input-wrapper">
                            <a class="mt-0" (click)="removeTopSigning(i)">
                              Remove
                            </a>
                          </div>
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="top_signing-player w-100 block-part"
                *ngIf="member_type === 'academy'"
              >
                <div class="input-wrapper w-100 align-right">
                  <a class="mt-0" (click)="addTopAcademyPlayer()">
                    Add Top Academy Players
                  </a>
                </div>

                <!-- top sign in player -->
                <div class="flex-wrapper wrap">
                  <div
                    class="form-block-clubs w-50 "
                    *ngFor="
                      let top_player of editProfileForm.get('top_players')
                        .controls;
                      let i = index
                    "
                    formArrayName="top_players"
                  >
                    <div class="w-50">
                      <label>Top Academy Player</label>

                      <ng-container [formGroupName]="i">
                        <div class="flex-wrapper">
                          <div class="input-wrapper">
                            <input
                              type="text"
                              matInput
                              placeholder="Top Academy Player"
                              formControlName="name"
                            />
                            <mat-error
                              *ngIf="
                                editProfileForm.controls.top_players.controls[
                                  i
                                ].get('name').invalid &&
                                editProfileForm.controls.top_players.controls[
                                  i
                                ].get('name').touched
                              "
                            >
                              <span
                                *ngIf="
                                  editProfileForm.controls.top_players.controls[
                                    i
                                  ]
                                    .get('name')
                                    .hasError('required')
                                "
                                translate
                                >Name is required</span
                              >
                            </mat-error>
                          </div>

                          <div class="input-wrapper">
                            <a class="mt-0" (click)="removeTopAcademyPlayer(i)">
                              Remove
                            </a>
                          </div>
                        </div>
                      </ng-container>
                    </div>
                  </div>
                </div>
              </div>

              <!-- No of associated Player -->
              <div class="form-block-clubs">
                <div class="input-wrapper-academy w-50">
                  <label
                    >Type of {{ member_type === 'club' ? 'Club' : 'Academy' }}
                    <span>*</span></label
                  >
                  <select matNativeControl formControlName="type" required>
                    <option value="">Select Type</option>
                    <ng-container *ngFor="let type of clubAcadTypeArray">
                      <option value="{{ type.value }}">{{ type.name }}</option>
                    </ng-container>
                  </select>
                  <mat-error
                    *ngIf="
                      editProfileForm.controls.type.invalid &&
                      editProfileForm.controls.type.touched
                    "
                  >
                    <span
                      [innerText]="
                        member_type === 'club'
                          ? 'Type of Club is required'
                          : 'Type of Academy is required'
                      "
                      *ngIf="editProfileForm.controls.type.errors.required"
                      translate
                      >Type of Club is required</span
                    >
                  </mat-error>
                </div>
              </div>
            </div>
          </div>
        </ng-template>

        <div class="block">
          <div class="block-middle">
            <div class="form-block-clubs">
              <div class="input-wrapper-academy">
                <label
                  >{{
                    member_type === 'player'
                      ? 'Current State Association'
                      : 'State association affiliated under'
                  }}<span>*</span></label
                >
                <select matNativeControl formControlName="association" required>
                  <option value="">Select Association</option>
                  <ng-container
                    *ngFor="let association of stateAssociationArray"
                  >
                    <option value="{{ association.value }}">{{
                      association.name
                    }}</option>
                  </ng-container>
                </select>
                <mat-error
                  *ngIf="
                    editProfileForm.controls.association.invalid &&
                    editProfileForm.controls.association.touched
                  "
                >
                  <span
                    *ngIf="editProfileForm.controls.association.errors.required"
                    translate
                    >Association is required</span
                  >
                </mat-error>
              </div>

              <div
                class="input-wrapper-academy"
                *ngIf="editProfileForm.controls.association.value === 'Others'"
              >
                <label>{{
                  member_type === 'player'
                    ? 'Other State Association Name'
                    : 'Other Association Name'
                }}</label>
                <input
                  type="text"
                  matInput
                  placeholder="Other"
                  formControlName="association_other"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- bottom -->
      <div class="block-bottom">
        <a [routerLink]="['/member/profile/view']">Cancel</a>
        <button class="btn" [disabled]="!editProfileForm.valid">
          Save Changes
        </button>
      </div>
    </form>
  </div>
</div>
