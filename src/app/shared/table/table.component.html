<mat-table matSort [dataSource]="rows">
  <!-- Checkbox Column -->
  <ng-container
    [matColumnDef]="tableConfig.columns[col].code"
    *ngFor="let col of tableConfig.allowedColumns"
  >
    <mat-header-cell *matHeaderCellDef mat-sort-header [disabled]="!sortEnabled"
      >{{ tableConfig.columns[col].text }}
    </mat-header-cell>
    <mat-cell *matCellDef="let element; let i = index">
      <div>
        <p
          *ngIf="
            ![
              'name',
              'date_of_birth',
              'added_on',
              'media',
              'aadhaarimg',
              'document_image',
              'document_type',
              'profileimg',
              'type',
              'email',
              'status',
              'avatar',
              'playerimg',
              'user_photo',
              'document',
              'aiff_image',
              'effective_date',
              'expiry_date',
              'club_academy_name',
              'player_name',
              'created_by',
              'year'
            ].includes(col)
          "
        >
          {{ tableConfig.columns[col].getValue(element) }}
        </p>
        <p *ngIf="col === 'created_by'">
          {{ tableConfig.columns[col].getValue(element) | titlecase }}
        </p>
        <p *ngIf="col === 'year'">{{ element.from }}-{{ element.to }}</p>
        <p *ngIf="col === 'document_type'">
          <ng-container [ngSwitch]="element.document_type">
            <ng-container *ngSwitchCase="'coi'">COI Number</ng-container>
            <ng-container *ngSwitchCase="'tin'">TIN Number</ng-container>
            <ng-container *ngSwitchCase="'pan'">PAN Number</ng-container>
            <ng-container *ngSwitchCase="'aiff'"
              >AIFF Accreditation ID</ng-container
            >
          </ng-container>
        </p>
        <p
          *ngIf="
            [
              'added_on',
              'date_of_birth',
              'expiry_date',
              'effective_date'
            ].includes(col)
          "
        >
          {{
            tableConfig.columns[col].getValue(element) | date: 'dd-LLLL-yyyy'
          }}
        </p>
        <p
          *ngIf="col === 'name' || col === 'type'"
          matTooltip="{{ tableConfig.columns[col].getValue(element) }}"
        >
          {{
            tableConfig.columns[col].getValue(element).length < 15
              ? tableConfig.columns[col].getValue(element)
              : (tableConfig.columns[col].getValue(element) | slice: 0:15) +
                '...'
          }}
        </p>
        <p
          *ngIf="col === 'email'"
          matTooltip="{{ tableConfig.columns[col].getValue(element) }}"
          [ngClass]="element.is_email_verified === 'true' ? 'black' : 'red'"
        >
          {{
            tableConfig.columns[col].getValue(element).length < 18
              ? tableConfig.columns[col].getValue(element)
              : (tableConfig.columns[col].getValue(element) | slice: 0:18) +
                '...'
          }}
        </p>
        <p
          *ngIf="col === 'status'"
          [ngClass]="{
            red: ['non-verified', 'rejected', 'disapproved'].includes(
              element.status
            ),
            black: ['verified'].includes(element.status),
            green: ['active', 'added', 'approved'].includes(element.status),
            completeStatus: ['completed'].includes(element.status),
            yetStatus: ['yet_to_start'].includes(element.status),
            pendingStatus: ['pending'].includes(element.status)
          }"
        >
          {{
            element.status === 'yet_to_start'
              ? 'Yet to Start'
              : (tableConfig.columns[col].getValue(element) | titlecase)
          }}
          <!-- <img
            class="status-icon"
            src="./../../../assets/images/icons/tick.png"
            alt=""
          /> -->
        </p>
        <p *ngIf="col === 'media'">
          <a
            [href]="tableConfig.columns[col].getValue(element)"
            target="_blank"
          >
            <span class="pdf-icon">
              <mat-icon
                class="material-icons"
                *ngIf="
                  tableConfig.columns[col]
                    .getValue(element)
                    .split('.')
                    .includes('pdf')
                "
              >
                picture_as_pdf
              </mat-icon>
            </span>
            <img
              *ngIf="
                !tableConfig.columns[col]
                  .getValue(element)
                  .split('.')
                  .includes('pdf')
              "
              class="thumbnail"
              [src]="tableConfig.columns[col].getValue(element)"
              alt=""
            />
          </a>
        </p>
        <p *ngIf="col === 'avatar'">
          <img
            class="thumbnail"
            [src]="tableConfig.columns[col].getValue(element)"
            alt=""
          />
        </p>

        <p *ngIf="col === 'aadhaarimg'">
          <a
            matTooltip="Front Image"
            *ngIf="tableConfig.columns[col].getValue(element).doc_front"
            [href]="tableConfig.columns[col].getValue(element).doc_front"
            target="_blank"
          >
            <img
              class="thumbnail"
              [src]="tableConfig.columns[col].getValue(element).doc_front"
              alt=""
            />
          </a>
          <a
            matTooltip="Back Image"
            *ngIf="tableConfig.columns[col].getValue(element).doc_back"
            [href]="tableConfig.columns[col].getValue(element).doc_back"
            target="_blank"
          >
            <img
              class="thumbnail"
              [src]="tableConfig.columns[col].getValue(element).doc_back"
              alt=""
            />
          </a>
          <a
            *ngIf="tableConfig.columns[col].getValue(element).document"
            [href]="tableConfig.columns[col].getValue(element).document"
            target="_blank"
          >
            <img class="thumbnail" src="assets/images/pdf.png" alt="" />
          </a>
        </p>
        <p *ngIf="col === 'aiff_image' || col === 'document_image'">
          <a
            [href]="tableConfig.columns[col].getValue(element).document"
            target="_blank"
          >
            <img
              *ngIf="
                tableConfig.columns[col].getValue(element).attachment_type ===
                'pdf'
              "
              class="thumbnail"
              src="assets/images/pdf.png"
              alt=""
            />
            <img
              *ngIf="
                tableConfig.columns[col].getValue(element).attachment_type !==
                'pdf'
              "
              class="thumbnail"
              [src]="tableConfig.columns[col].getValue(element).document"
              alt=""
            />
          </a>
        </p>
        <p *ngIf="col === 'user_photo'">
          <a
            href="javascript:void(0);"
            (click)="openDialog(tableConfig.columns[col].getValue(element))"
          >
            <img
              class="thumbnail"
              [src]="tableConfig.columns[col].getValue(element)"
              alt=""
            />
          </a>
        </p>
        <p *ngIf="col === 'club_academy_name' || col === 'player_name'">
          <a
            *ngIf="tableConfig.columns[col].getValue(element).profileUrl"
            [href]="tableConfig.columns[col].getValue(element).profileUrl"
            target="_blank"
          >
            {{ tableConfig.columns[col].getValue(element).name }}
          </a>
          <ng-container
            *ngIf="!tableConfig.columns[col].getValue(element).profileUrl"
          >
            {{ tableConfig.columns[col].getValue(element).name }}
          </ng-container>
        </p>
      </div>
    </mat-cell>
  </ng-container>

  <!-- <ng-container matColumnDef="sno">
    <mat-header-cell *matHeaderCellDef> No. </mat-header-cell>
    <mat-cell *matCellDef="let element; let i = index">
      <div>{{ i > 8 ? '' : 0 }}{{ i + 1 }}</div>
    </mat-cell>
  </ng-container> -->
  <ng-container matColumnDef="action">
    <mat-header-cell *matHeaderCellDef> Action </mat-header-cell>
    <mat-cell *matCellDef="let element; let i = index">
      <ng-container
        *ngTemplateOutlet="TableActions; context: element"
      ></ng-container>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="columns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: columns"></mat-row>
</mat-table>
<ng-container *ngIf="!rows || !rows.data || rows.data.length === 0">
  <span class="no-data-found">
    No records added
  </span>
</ng-container>
